
========================================

    ■ 東方触手宮 因幡てゐ口上

      Author : ふぅりすと
      URL    : https://includematrix.net/
        
========================================

■ 動作環境
	因幡てゐ口上はGitblitでの最新版環境で動作確認を行っています
	Gitblit URL : https://emuera.git-server.com:8443/


■ 導入方法
	東方触手宮、りばーす東方触手宮の各キャラ口上フォルダへ置いてください
	ファイル構成が変更になる事が多々ある為、
	既存のデータがある際は上書きではなく、旧ファイル削除の上導入をお願いします
	

■ 開発コンセプト(だった)
	エロ堕ちするウサギが見たい
	連続絶頂させられてる途中で心が折れちゃったりするヤツ

	最近は思いついた事をテキトーにどんどん追記される子です







	






ERHが使えるようになったので、まだ色々整理予定
以下にはセーブ対象の変数のみ記載
一時利用する変数群はKOJO_27_0.ERHを参照すること

== 変数(CFLAG) =================================================================
800     理性度
805     淫乱堕ちフラグ(0で標準 1で淫乱堕ち)

810     男の娘チェック(0:未判定 1:男の娘状態でも強制的に口上を表示する 2:口上は表示しない)
811     りばーす東方触手宮での口上モード(0:未判定 1:通常触手宮と同様に動作させる 2:前回値参照OFFで動作を制限)

820     寸止めカウント

830     口上の呼び出された最終日時：DAY
831     口上の呼び出された最終日時：TIME

900     アダルト系フラグ
        bit桁
        00    暗示ON/OFF
        02    触手スーツに擬態された事がある(着替え時に判定 自販機のは無視)
        03    連続自慰フラグ
        04    戦闘中拘束フラグ(現在の戦闘中に1度でも拘束されればON 戦闘終了時にOFF)

951     自分をレイプしてるキャラNo
952-999 キャラクタ好感度一時保存の為に利用 (48人までは保持、それ以上はエラー処理)


== 口上処理優先度 ==============================================================
	
	共通処理で呼び出せない口上関数の呼び出し
	
	口上優先度・地の文関数登録
	
	各種演算・データ用意
	
	口上内例外処理
	
	バッドステータス処理
		睡眠 > 喪失 > 諦め > 催眠

	各種口上処理

== 独自エスケープシーケンス & 特殊文字 =========================================
\b  表示フォント色をBAD表示の赤に
    \b～\bで挟まれた範囲の文章をBAD色(赤)で表示します
\c  一行文のCLEARLINEを実行します
\d  表示フォント色をシステム標準色に
    \d～\dで挟まれた範囲の文章をシステム標準色で表示します
\g  表示フォント色をGOOD表示の青に
    \g～\gで挟まれた範囲の文章をGOOD色(青)で表示します
\n  改行
\m  地の文キャンセルフラグ
    システムメッセージで表示される地の文を無効化します
\M  地の文を表示
    このエスケープを利用した場合
    システム標準で描画される地の文は表示されず、任意の場所で表示されるようになります
\w  WAIT付改行 PRINTFORM -W の動作
♥  ハート表示(文字色:赤)
    環境による差を吸収する為ぱにめーしょんを利用、別途関数呼び出しに置き換えます


== 文字入力 特殊処理 ===========================================================
KOJO_27_0_ADD_MESSAGE経由での口上は
引数に半角スペースとタブを渡しても無視されます
その為、下記の形で複数行記述が可能です

{
	KOJO_27_0_ADD_MESSAGE, @"動作テスト1\n
	                         動作テスト2\n"
}



== 関数名規約 ==================================================================

-- 前回値参照関数 --------------------------------------------------------------
	@~SYSTEM_MESSAGE~の呼び出しに成功した場合
	自動的に@~SYSTEM_MESSAGE~_PREV_~、又は@~SYSTEM_MESSAGE~_PREV_PURE_~が呼び出されます
	通常の口上が未定義でPREV関数のみを定義した場合、呼び出されないので注意
	PREVのみを定義したい場合は、空関数でいいので通常の口上を定義してください
	
	自動で呼び出されるのはあくまで一つ前の値を参照した関数となる為
	それ以前の値を参照したい場合は明示的に呼び出しを行ってください


== MEMO ========================================================================
好感度の扱いって元ERB見る限りどんなもん？
遭遇会話時
	0以下で敵対
	50以下で警戒
	200以上で受け入れ　って感じ
睡眠夜這い時
	400未満でそれほど高くない
	800未満で普通
	800以上でらぶらぶ

