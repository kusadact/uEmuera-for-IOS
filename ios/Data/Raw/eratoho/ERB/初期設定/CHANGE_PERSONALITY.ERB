;性格を手動で変更
;ARG:0	対象キャラ
@CHANGE_PERSONALITY(ARG:0)


IF ARG:0 == 0
	RETURN
ENDIF
IF ARG:0 == 1 && (FLAG:560 == 2 || FLAG:560 ==4)
	PRINTFORM 要变更主人公的性格吗？　现在的
ELSE
	PRINTFORM 要変更%CALLNAME:(ARG:0)%的性格吗？　现在的
ENDIF

CALL SHOW_PERSONALITY(ARG:0)
CALL ASK_YN
IF RESULT != 0
	RETURN
ENDIF


PRINTFORML 請選択性情
PRINTFORML [1] 超弱気
PRINTFORML [2] 弱気
PRINTFORML [3] 普通
PRINTFORML [4] 強気
PRINTFORML [5] 超強気
PRINTFORML [0] 不变更

$INPUT_LOOP_1
INPUT
IF RESULT == 1
	CFLAG:(ARG:0):12 = -40
	FLAG:563 = RESULT
ELSEIF RESULT == 2
	CFLAG:(ARG:0):12 = -20
	FLAG:563 = RESULT
ELSEIF RESULT == 3
	CFLAG:(ARG:0):12 = 0
	FLAG:563 = RESULT
ELSEIF RESULT == 4
	CFLAG:(ARG:0):12 = 20
	FLAG:563 = RESULT
ELSEIF RESULT == 5
	CFLAG:(ARG:0):12 = 40
	FLAG:563 = RESULT
ELSEIF RESULT == 0
	;何もしない
ELSE
	REUSELASTLINE 輸入値不正確。請重新輸入
	GOTO INPUT_LOOP_1
ENDIF


PRINTFORML 請選択性格
PRINTFORML [ 1] 多管閒事　　　
PRINTFORML [ 2] 頑皮活潑　　　　
PRINTFORML [ 3] 頑固不化　　　
PRINTFORML [ 4] 努力向上　　　
PRINTFORML [ 5] 聰明能干　　　　
PRINTFORML [ 6] 久経世故　　　
PRINTFORML [ 7] 幸運星　　
PRINTFORML [ 8] 性感辣妹　
PRINTFORML [ 9] 精打細算　　
PRINTFORML [10] 熱血爺們　　
PRINTFORML [11] 無憂無慮　　　
PRINTFORML [12] 保守消極　
PRINTFORML [13] 温柔　　
PRINTFORML [14] 隨意任性　　　　
PRINTFORML [15] 普通　　　　　
PRINTFORML [ 0] 変更しない


$INPUT_LOOP_2
INPUT
IF RESULT >= 1 && RESULT <= 14
	CFLAG:(ARG:0):100 = RESULT
	FLAG:564 = RESULT
ELSEIF RESULT == 15
	CFLAG:(ARG:0):100 = 0
	FLAG:564 = RESULT
ELSEIF RESULT == 0
	;何もしない
ELSE
	REUSELASTLINE 輸入値不正確。請重新輸入
	GOTO INPUT_LOOP_2
ENDIF

IF ARG:0 == 1 && (FLAG:560 == 2 || FLAG:560 ==4)
	PRINTFORM 变更了主人公的性格　　変更后的
ELSE
	PRINTFORM 変更了%CALLNAME:(ARG:0)%的性格　　変更後的
ENDIF

CALL SHOW_PERSONALITY(ARG:0)
WAIT

