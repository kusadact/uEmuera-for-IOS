;-------------------------------------------------
;イベント設定開始時用
;複数同時に選べる
;-------------------------------------------------
@CONFIGURE_FIRST_TALENT
#DIM DEL_LINE
#DIM LCOUNT
#DIM CONF_BIT
;CONF_BIT	設定用BIT変数
;LOCAL:1	LOOP
REDRAW 0
DRAWLINE

PRINTL <-/-> 所有角色通用设置  
PRINTFORM (选择时
SETCOLOR 0x9999FF
PRINTFORML 文本变为青色)
RESETCOLOR
PRINTL
CONF_BIT = 0
;グローバルセーブしているがクイックスタートしていないとここに来ない+ここに来たなら設定し直すだろうということでフラグリセット
	FLAG:545 = 0
	FLAG:546 = 0
	FLAG:547 = 0
	FLAG:548 = 0
;胸の大きさ
	$START
	DEL_LINE = LINECOUNT
	IF FLAG:521 == 0
		PRINTFORML ■ 可以讓全部角色爆乳化
		SIF GETBIT(CONF_BIT, 0)
			SETCOLOR 0x9999FF
		PRINTFORML [0] 因為触手的原因全員都変成爆乳了
		RESETCOLOR
		SIF GETBIT(CONF_BIT, 1)
			SETCOLOR 0x9999FF
		PRINTFORML [1] 因為触手的原因全員都変成爆乳和母乳体質了
		RESETCOLOR
	ENDIF
	PRINTFORML
;ふたなり
	PRINTFORML ■ 可以使全部角色扶他化
	IF FLAG:520 == 1
		SIF GETBIT(CONF_BIT, 2)
			SETCOLOR 0x9999FF
		PRINTFORML [2] 全員都已被寄生
		RESETCOLOR
		SIF GETBIT(CONF_BIT, 3)
			SETCOLOR 0x9999FF
		PRINTFORML [3] 在這之前進入迷宮的全員都長着
		RESETCOLOR
	ELSEIF FLAG:520 == 2
		SIF GETBIT(CONF_BIT, 2)
			SETCOLOR 0x9999FF
		PRINTFORML [2] 主人公已被寄生
		RESETCOLOR
		SIF GETBIT(CONF_BIT, 3)
			SETCOLOR 0x9999FF
		PRINTFORML [3] 在這之前進入迷宮的主人公長着
		RESETCOLOR
	ELSEIF FLAG:520 == 3
		SIF GETBIT(CONF_BIT, 2)
			SETCOLOR 0x9999FF
		PRINTFORML [2] 主人公以外全員已被寄生
		RESETCOLOR
		SIF GETBIT(CONF_BIT, 3)
			SETCOLOR 0x9999FF
		PRINTFORML [3] 在這之前進入迷宮的除主人公以外的全員都長着
		RESETCOLOR
	ENDIF
	SIF GETBIT(CONF_BIT, 4)
		SETCOLOR 0x9999FF
	PRINTFORML [4] 有時会長出来有時候又会消失
	RESETCOLOR
	PRINTFORML
	PRINTFORML ■ 可以讓全部角色的体質変化 (可选择多项)
	SIF GETBIT(CONF_BIT, 5)
		SETCOLOR 0x9999FF
	PRINTFORML [5] 全部角色的全部位変為異常過敏
	RESETCOLOR
	SIF GETBIT(CONF_BIT, 6)
		SETCOLOR 0x9999FF
	PRINTFORML [6] 全部角色変為嬌小体型
	RESETCOLOR
	PRINTFORML 
	PRINTFORML [101] 決定
	$INPUT_LOOP
	INPUT
	
	;CHARA_INITIALIZE_2で設定するのでフラグを立てるだけ

	IF RESULT == 0
		INVERTBIT CONF_BIT, 0
		CLEARBIT CONF_BIT, 1
	ELSEIF RESULT == 1
		CLEARBIT CONF_BIT, 0
		INVERTBIT CONF_BIT, 1
	ELSEIF RESULT == 2
		INVERTBIT CONF_BIT, 2
		CLEARBIT CONF_BIT, 3
		CLEARBIT CONF_BIT, 4
	ELSEIF RESULT == 3
		CLEARBIT CONF_BIT, 2
		INVERTBIT CONF_BIT, 3
		CLEARBIT CONF_BIT, 4
	ELSEIF RESULT == 4
		CLEARBIT CONF_BIT, 2
		CLEARBIT CONF_BIT, 3
		INVERTBIT CONF_BIT, 4
	ELSEIF RESULT == 5
		INVERTBIT CONF_BIT, 5
	ELSEIF RESULT == 6
		INVERTBIT CONF_BIT, 6
	ELSEIF RESULT == 101
	ELSE
		REUSELASTLINE 输入错误！
		CLEARLINE 1
		GOTO INPUT_LOOP
	ENDIF
	
	SIF GETBIT(CONF_BIT, 0)
		FLAG:545 = 1
	SIF GETBIT(CONF_BIT, 1)
		FLAG:545 = 2
	SIF GETBIT(CONF_BIT, 2)
		FLAG:546 = 1
	SIF GETBIT(CONF_BIT, 3)
		FLAG:546 = 2
	SIF GETBIT(CONF_BIT, 4)
		FLAG:546 = 3
	SIF GETBIT(CONF_BIT, 5)
		FLAG:547 = 1
	SIF GETBIT(CONF_BIT, 6)
		FLAG:548 = 1
	IF RESULT != 101
		CLEARLINE LINECOUNT - DEL_LINE
		GOTO START
	ENDIF



;メッセージ表示など操作性の変更
@CONFIGURE_FIRST_1
#DIM DEL_LINE

DRAWLINE
PRINTL <1/3> 消息显示时操作性的变更  
PRINTFORM (选择时
SETCOLOR 0x9999FF
PRINTFORML 文本变为青色)
RESETCOLOR

$START
DEL_LINE = LINECOUNT
PRINTFORML 
PRINTFORML ■ 切換行動時被顕示的経験値獲得信息的顕示
SIF FLAG:501 == 0
	SETCOLOR 0x9999FF
PRINTFORM [1] %"顕示",12,LEFT%
RESETCOLOR
SIF FLAG:501 == 1
	SETCOLOR 0x9999FF
PRINTFORM [2] %"不顕示",12,LEFT%
RESETCOLOR
PRINTFORML 
PRINTFORML 
PRINTFORML ■ 戦闘中的信息顕示是否高速的設定
SIF FLAG:504 == 0
	SETCOLOR 0x9999FF
PRINTFORM [3] %"通常",12,LEFT%
RESETCOLOR
SIF FLAG:504 == 1
	SETCOLOR 0x9999FF
PRINTFORM [4] %"高速表示",12,LEFT%※可減少等待輸入的回数
RESETCOLOR
PRINTFORML 
PRINTFORML 
PRINTFORML ■ 対象只有１人的時候、是否省略戦闘指令的対象確認的設定
SIF FLAG:505 == 0
	SETCOLOR 0x9999FF
PRINTFORM [5] %"不省略",12,LEFT%
RESETCOLOR
SIF FLAG:505 == 1
	SETCOLOR 0x9999FF
PRINTFORM [6] %"省略",12,LEFT%
RESETCOLOR
PRINTFORML 
PRINTFORML 
PRINTFORML ■ 要省略敵人的外表麼？？
SIF FLAG:513 == 0
	SETCOLOR 0x9999FF
PRINTFORM [7] %"不省略",12,LEFT%
RESETCOLOR
SIF FLAG:513 == 1
	SETCOLOR 0x9999FF
PRINTFORM [8] %"省略",12,LEFT%
RESETCOLOR
PRINTFORML 
PRINTFORML ■ 要改变动画的循环次数吗？（如果想要更大幅的修改、请在游戏开始后在配置中操作）
SIF FLAG:597 == 0
	SETCOLOR 0x9999FF
PRINTFORM     %"输入10到99之间的数字作为要改变的循环数",12,LEFT%
RESETCOLOR
SIF FLAG:597
	SETCOLOR 0x9999FF
PRINTFORM [9] %"默认",12,LEFT%
RESETCOLOR
PRINTFORML 
PRINTFORML
SETCOLOR 0x444444 
PRINTPLAINFORM %"[100] 上翻",16,LEFT%
RESETCOLOR
PRINTFORML %"[101] 下翻",16,LEFT%
$INPUT_LOOP
INPUT
;1～4

IF RESULT >= 1 && RESULT <= 2
	FLAG:501 = RESULT - 1
;	PRINTFORMW 関於経験値獲得信息已設定
ELSEIF RESULT >= 3 && RESULT <= 4
	FLAG:504 = RESULT - 3
;	PRINTFORMW 関於戦闘中的信息表示已設定
ELSEIF RESULT >= 5 && RESULT <= 6
	FLAG:505 = RESULT - 5
;	PRINTFORMW 関於指令的省略已設定
ELSEIF RESULT >= 7 && RESULT <= 8
	FLAG:513 = RESULT - 7
;	PRINTFORMW 関於敵人的外表已設定
ELSEIF RESULT == 9
	FLAG:597 = 0
ELSEIF RESULT >= 10 && RESULT <= 99
	FLAG:597 = RESULT
ELSEIF RESULT == 101
ELSE
	REUSELASTLINE 输入错误！
	CLEARLINE 1
	GOTO INPUT_LOOP
ENDIF

IF RESULT != 101
	CLEARLINE LINECOUNT - DEL_LINE
	GOTO START
ENDIF

CALL CONFIGURE_FIRST_2

;-------------------------------------------------
;性癖のコンフィグ
@CONFIGURE_FIRST_2
#DIM DEL_LINE

DRAWLINE
PRINTL <2/3> 关于性癖 -１-  
PRINTFORM (选择时
SETCOLOR 0x9999FF
PRINTFORML 文本变为青色)
RESETCOLOR

$START
DEL_LINE = LINECOUNT
PRINTFORML 
PRINTFORML ■ 切換触手寄生時扶他化事件的有無
SIF FLAG:520 == 0
	SETCOLOR 0x9999FF
PRINTFORML [1] 被寄生而成的扶他有些無法接受……
RESETCOLOR
SIF FLAG:520 == 1
	SETCOLOR 0x9999FF
PRINTFORML [2] 因為喜歡提高難易度所以沒有関係
RESETCOLOR
SIF FLAG:520 == 2
	SETCOLOR 0x9999FF
PRINTFORML [3] 只想讓主人公長出粗大的東西去插NPC！
RESETCOLOR
SIF FLAG:520 == 3
	SETCOLOR 0x9999FF
PRINTFORML [4] 只有主人公不会長出因為要成為処理NPC性欲的人……
RESETCOLOR
PRINTFORML 
PRINTFORML ■ 妊娠時胸部的成長
SIF FLAG:521 == 0
	SETCOLOR 0x9999FF
PRINTFORML [5] 大胸部真是太棒了
RESETCOLOR
SIF FLAG:521 == 1
	SETCOLOR 0x9999FF
PRINTFORML [6] 還是喜歡小小的
RESETCOLOR
SIF FLAG:521 == 2
	SETCOLOR 0x9999FF
PRINTFORML [7] 雖然喜歡大的不過畸形的話就有点……
RESETCOLOR
PRINTFORML 
PRINTFORML ■ 從高潮的少女下体滴落的液体是？
SIF FLAG:522 == 0
	SETCOLOR 0x9999FF
PRINTFORML [8] 透明帯有粘性的愛液
RESETCOLOR
SIF FLAG:522 == 1
	SETCOLOR 0x9999FF
PRINTFORML [9] 有一点気味的黄金水
RESETCOLOR
SIF FLAG:522 == 2
	SETCOLOR 0x9999FF
PRINTFORML [10] 只是汗水
RESETCOLOR
PRINTFORML 
PRINTFORML ■ EP傷害上限要怎麼設定？
SIF FLAG:539 == 0
	SETCOLOR 0x9999FF
PRINTFORML [11] 上限開放
RESETCOLOR
SIF FLAG:539 == 1
	SETCOLOR 0x9999FF
PRINTFORML [12] 上限設定
RESETCOLOR
PRINTFORML 
PRINTFORML ■ 要過濾掉妊娠・寄生并使用媚薬爆弾代替麼？
SIF FLAG:515 == 0
	SETCOLOR 0x9999FF
PRINTFORML [13] 有妊娠・寄生
RESETCOLOR
SIF FLAG:515 == 1
	SETCOLOR 0x9999FF
PRINTFORML [14] 用媚薬爆弾代替苦手的妊娠・寄生
RESETCOLOR
SIF FLAG:515 == 2
	SETCOLOR 0x9999FF
PRINTFORML [15] 妊娠和寄生和媚薬爆弾全部都用
RESETCOLOR

PRINTFORML 
PRINTFORM %"[100] 上翻",16,LEFT%
PRINTFORML %"[101] 下翻",16,LEFT%
$INPUT_LOOP
INPUT
IF RESULT >= 1 && RESULT <= 4
	FLAG:520 = RESULT - 1
;	PRINTFORMW 扶他選項設定完成
ELSEIF RESULT >= 5 && RESULT <= 7
	FLAG:521 = RESULT - 5
;	PRINTFORMW 胸部成長選項設定完成
ELSEIF RESULT >= 8 && RESULT <= 10
	FLAG:522 = RESULT - 8
;	PRINTFORMW 尿意選項設定完成
ELSEIF RESULT >= 11 && RESULT <= 12
	FLAG:539 = RESULT - 11
;	PRINTFORMW EP傷害上限選項設定完成
ELSEIF RESULT >= 13 && RESULT <= 15
	FLAG:515 = RESULT - 13
;	PRINTFORMW 妊娠寄生選項設定完成
ELSEIF RESULT == 100
ELSEIF RESULT == 101
ELSE
	REUSELASTLINE 输入错误！
	CLEARLINE 1
	GOTO INPUT_LOOP
ENDIF

SELECTCASE RESULT
	CASE 100
		CALL CONFIGURE_FIRST_1
	CASE 101
		CALL CONFIGURE_FIRST_3
	CASEELSE
		CLEARLINE LINECOUNT - DEL_LINE
		GOTO START
ENDSELECT
;-------------------------------------------------
@CONFIGURE_FIRST_3
#DIM DEL_LINE

DRAWLINE
PRINTL <3/3> 关于性癖 -２-  
PRINTFORM (选择时
SETCOLOR 0x9999FF
PRINTFORML 文本变为青色)
RESETCOLOR

$START
DEL_LINE = LINECOUNT
PRINTFORML 
PRINTFORML ■ 要穿着衣服和触手玩麼？
SIF FLAG:529 == 0
	SETCOLOR 0x9999FF
PRINTFORML [1] 哪樣都可以
RESETCOLOR
SIF FLAG:529 == 1
	SETCOLOR 0x9999FF
PRINTFORML [2] 着衣PLAY最高
RESETCOLOR
PRINTFORML 
PRINTFORML ■ 関於陥没乳首
SIF FLAG:531 == 0
	SETCOLOR 0x9999FF
PRINTFORML [3] 全員普通
RESETCOLOR
SIF FLAG:531 == 1
	SETCOLOR 0x9999FF
PRINTFORML [4] 全員陥没乳首
RESETCOLOR
SIF FLAG:531 == 2
	SETCOLOR 0x9999FF
PRINTFORML [5] 有幾人隠藏着陥没乳首
RESETCOLOR
PRINTFORML 
PRINTFORML ■ 要進行産卵描写麼？
SIF FLAG:533 == 0
	SETCOLOR 0x9999FF
PRINTFORML [6] 産卵的話有点……
RESETCOLOR
SIF FLAG:533 == 1
	SETCOLOR 0x9999FF
PRINTFORML [7] 想讓角色産卵
RESETCOLOR
PRINTFORML 
PRINTFORML ■ 卵巣要逐漸苗床化麼？
SIF FLAG:535 == 0
	SETCOLOR 0x9999FF
PRINTFORML [8] 做到那個地歩有点……
RESETCOLOR
SIF FLAG:535 == 1
	SETCOLOR 0x9999FF
PRINTFORML [9] 推進
RESETCOLOR
PRINTFORML 
PRINTFORML ■ 想看悪堕的少女麼？　※EX模式時強制使用関閉無效
SIF FLAG:538 == 0
	SETCOLOR 0x9999FF
PRINTFORML [10] 不想看
RESETCOLOR
SIF FLAG:538 == 1
	SETCOLOR 0x9999FF
PRINTFORML [11] 只是繞着敵人転的話……
RESETCOLOR
SIF FLAG:538 == 2
	SETCOLOR 0x9999FF
PRINTFORML [12] 請以脱胎換骨的程度一個勁的干吧
SIF FLAG:538 == 3
	SETCOLOR 0x9999FF
PRINTFORML [13] 悪堕转生大社保！摩多摩多！
RESETCOLOR
PRINTFORML 
PRINTFORM %"[100] 上翻",16,LEFT%
PRINTFORML %"[101] 決定",16,LEFT%
$INPUT_LOOP
INPUT
IF RESULT >= 1 && RESULT <= 2
	FLAG:529 = RESULT - 1
;	PRINTFORMW 全裸難易選項設定完成
ELSEIF RESULT >= 3 && RESULT <= 5
	FLAG:531 = RESULT - 3
;	PRINTFORMW 陥没乳首選項設定完成
ELSEIF RESULT >= 6 && RESULT <= 7
	FLAG:533 = RESULT - 6
;	PRINTFORMW 産卵選項設定完成
ELSEIF RESULT >= 8 && RESULT <= 9
	FLAG:535 = RESULT - 8
;	PRINTFORMW 卵巣的苗床化選項設定完成
ELSEIF RESULT >= 10 && RESULT <= 13
	FLAG:538 = RESULT - 10
;	PRINTFORMW 悪堕選項設定完成
ELSEIF RESULT == 100
ELSEIF RESULT == 101
ELSE
	REUSELASTLINE 输入错误！
	CLEARLINE 1
	GOTO INPUT_LOOP
ENDIF


SELECTCASE RESULT
	CASE 100
		CALL CONFIGURE_FIRST_2
	CASE 101
	CASEELSE
		CLEARLINE LINECOUNT - DEL_LINE
		GOTO START
ENDSELECT
REDRAW 1
;-------------------------------------------------

;処女男
@CONFIGURE_FIRST_SEX
#DIM LCOUNT

$INPUT_LOOP_FIRST

PRINTFORML 進行処女模式的設定。　要導入【処女】的概念麼？
PRINTFORML [ 0] 不進行【処女】的処理
PRINTFORM [ 1] 進行【処女】的処理　
SETCOLOR 0xEEEE10
PRINTFORML ※難易度会大幅上昇
RESETCOLOR
PRINTFORML [ 2] 【処女】+　貞操帯模式　※A感度会有懲罰
PRINTFORML [ 3] 【処女】個別設定
PRINTFORML 
PRINTFORML [11] 進行【偽娘】的処理
SETCOLOR 0xEEEE10
PRINTFORML ※付加了処女的角色無法再付加偽娘
PRINTFORML ※這個選択肢不在設定中保存的話就不会出現
RESETCOLOR
PRINTFORML [12] 【偽娘】【扶他】個別設定
PRINTFORML  [99] 【処女】\@ (FLAG:512 & 2) == 2 ? 【偽娘】 # \@隨機決定

INPUT
IF RESULT == 1 || RESULT == 2
	FOR LCOUNT, 1, CHARANUM
		;こっそり「主人公」にも処女を付加しておくことで、処女モードかどうかを判断できるようにしておく
		TALENT:(LCOUNT):0 = 1
		
		;貞操帯モードは貞操帯+感度上昇
		IF RESULT == 2
			CFLAG:(LCOUNT):47 = 1
			IF TALENT:(LCOUNT):101 > 0
				TALENT:(LCOUNT):101 += 1
			ENDIF
		ENDIF
	NEXT
	PRINTFORMW 登場角色全員附加了素質【処女】
	PRINTFORML 
	FLAG:566 = RESULT
ELSEIF RESULT == 3
	TALENT:0:0 = 1
	$INPUT_LOOP_VIRGIN
	;表示を綺麗にするためLOCAL:5で行数を確認
	LOCAL:5 = 0
	DRAWLINE
	FOR LCOUNT, 0, CHARANUM - 1
		PRINTFORML [{LCOUNT}] %CALLNAME:(LCOUNT + 1),15, LEFT%:\@ TALENT:(LCOUNT + 1):処女 ? ○ # × \@
		LOCAL:5 ++
	NEXT
	DRAWLINE
	PRINTFORML [1000] 設定完了
	PRINTFORML [2000] 恢复原先的個別設定
	INPUT
	LOCAL:5 += 4
	IF RESULT >= 0 && RESULT <= CHARANUM - 1
		 INVERTBIT TALENT:(RESULT + 1):処女, 0
		 CLEARLINE LOCAL:5
		 GOTO INPUT_LOOP_VIRGIN
	ELSEIF RESULT == 1000
		
	ELSEIF RESULT == 2000
		PRINTFORML 処女的個別設定回到了原先的状态
		PRINTFORMW 
		GOTO INPUT_LOOP_FIRST
	ELSE
		CLEARLINE LOCAL:5
		GOTO INPUT_LOOP_VIRGIN
	ENDIF
ELSEIF RESULT == 0
	PRINTFORMW 和【処女】有関的処理交給玩家的印象
	PRINTFORML 
	FLAG:566 = RESULT
ELSEIF RESULT == 11
	FLAG:566 = RESULT
	FOR LCOUNT, 1, CHARANUM
		IF TALENT:(LCOUNT):0 == 0 && TALENT:(LCOUNT):121 == 0
			TALENT:(LCOUNT):122 = 1
		ENDIF
	NEXT
	PRINTFORMW 不是【処女】登場的角色全員付加了素質【偽娘】
	PRINTFORML 
ELSEIF RESULT == 12
	$INPUT_LOOP
	;表示を綺麗にするためLOCAL:5で行数を確認
	LOCAL:5 = 0
	DRAWLINE
	FOR LCOUNT, 0, CHARANUM - 1
		PRINTFORML [{LCOUNT}] %CALLNAME:(LCOUNT + 1),15, LEFT%:\@ TALENT:(LCOUNT + 1):偽娘 ? 偽娘 #  \@\@ TALENT:(LCOUNT + 1):扶他 ? 扶他 #  \@
		LOCAL:5 ++
	NEXT
	DRAWLINE
	PRINTFORML [1000] 設定完了
	PRINTFORML [2000] 恢复原先的個別設定
	INPUT
	LOCAL:5 += 4
	IF RESULT >= 0 && RESULT < CHARANUM - 1
		IF TALENT:(RESULT + 1):偽娘 == 0 && TALENT:(RESULT + 1):扶他 == 0
		TALENT:(RESULT + 1):扶他 = 1
		TALENT:(RESULT + 1):偽娘 = 0
		ELSEIF TALENT:(RESULT + 1):偽娘 == 0 && TALENT:(RESULT + 1):扶他 == 1
		TALENT:(RESULT + 1):扶他 = 0
		TALENT:(RESULT + 1):偽娘 = 1
		ELSEIF TALENT:(RESULT + 1):偽娘 == 1 && TALENT:(RESULT + 1):扶他 == 0
		TALENT:(RESULT + 1):扶他 = 0
		TALENT:(RESULT + 1):偽娘 = 0
		ENDIF
		 IF TALENT:(RESULT + 1):0 == 1 && TALENT:(RESULT + 1):偽娘 > 0
		 	TALENT:(RESULT + 1):0 = 0
		 ENDIF
		 CLEARLINE LOCAL:5
		 GOTO INPUT_LOOP
	ELSEIF RESULT == 1000
		
	ELSEIF RESULT == 2000
		PRINTFORML 男性的個別設定回到了原先的状态
		PRINTFORMW 
		GOTO INPUT_LOOP_FIRST
	ELSE
		CLEARLINE LOCAL:5
		GOTO INPUT_LOOP
	ENDIF
ELSEIF RESULT == 99
	FLAG:566 = RESULT
	FOR LCOUNT, 1, CHARANUM
		IF TALENT:(LCOUNT):0 == 0 && RAND:5 && (FLAG:512 & 2) == 2 && TALENT:(LCOUNT):121 == 0
			TALENT:(LCOUNT):122 = 1
		ELSEIF TALENT:(LCOUNT):122 == 0 && RAND:2 == 0
			TALENT:(LCOUNT):0 = 1
		ENDIF
	NEXT
	PRINTFORMW 隨機付加了【処女】\@ (FLAG:512 & 2) == 2 ? 【偽娘】 # \@
	PRINTFORML 
ENDIF
